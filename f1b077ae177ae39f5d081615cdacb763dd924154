{
  "comments": [
    {
      "key": {
        "uuid": "8d04bb4e_144b7aa2",
        "filename": "/COMMIT_MSG",
        "patchSetId": 12
      },
      "lineNbr": 9,
      "author": {
        "id": 1017837
      },
      "writtenOn": "2016-12-07T20:24:50Z",
      "side": 1,
      "message": "When will the watching trigger an action? (at upload/creation or at submit time)?",
      "range": {
        "startLine": 9,
        "startChar": 25,
        "endLine": 9,
        "endChar": 53
      },
      "revId": "f1b077ae177ae39f5d081615cdacb763dd924154",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "6d05c749_13d0aeb6",
        "filename": "/COMMIT_MSG",
        "patchSetId": 12
      },
      "lineNbr": 10,
      "author": {
        "id": 1017837
      },
      "writtenOn": "2016-12-07T20:24:50Z",
      "side": 1,
      "message": "So we would add\n* the gitlink\n* config in the .gitmodules file\n\nin the superproject (if and only if?)\n\n* the newly added project/submodule allows for superproject subscription?\n* or do we check and enable the superproject subscription for that project? For the internal AOSP test superproject we configured all projects inheriting from \"all projects\" to allow the superproject subscription for the given superproject, so I\u0027d go with just checking here?",
      "range": {
        "startLine": 9,
        "startChar": 59,
        "endLine": 10,
        "endChar": 24
      },
      "revId": "f1b077ae177ae39f5d081615cdacb763dd924154",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "8d04bb4e_5455023d",
        "filename": "/COMMIT_MSG",
        "patchSetId": 12
      },
      "lineNbr": 10,
      "author": {
        "id": 1017837
      },
      "writtenOn": "2016-12-07T20:24:50Z",
      "side": 1,
      "message": "Are the superproject config changes created as a change or just updating the superproject without a reviewable change?\n\nIn case of a change is that change tied to the manifest change by adding it into the same topic or making up a topic?",
      "range": {
        "startLine": 10,
        "startChar": 28,
        "endLine": 10,
        "endChar": 45
      },
      "revId": "f1b077ae177ae39f5d081615cdacb763dd924154",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "8d04bb4e_f486b6a4",
        "filename": "src/main/java/com/googlesource/gerrit/plugins/supermanifest/SuperManifestRefUpdatedListener.java",
        "patchSetId": 12
      },
      "lineNbr": 323,
      "author": {
        "id": 1017837
      },
      "writtenOn": "2016-12-07T20:18:39Z",
      "side": 1,
      "message": "From what I have been told by Gerrit developers, never ever log an exception silently, who looks at logs (without users complaining) ?\n\nSo either throw an exception at the user or as you propose make a special branch (in the superproject?)",
      "range": {
        "startLine": 322,
        "startChar": 0,
        "endLine": 323,
        "endChar": 94
      },
      "revId": "f1b077ae177ae39f5d081615cdacb763dd924154",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "8d04bb4e_b48c2ec7",
        "filename": "src/main/java/com/googlesource/gerrit/plugins/supermanifest/SuperManifestRefUpdatedListener.java",
        "patchSetId": 12
      },
      "lineNbr": 348,
      "author": {
        "id": 1017837
      },
      "writtenOn": "2016-12-07T20:18:39Z",
      "side": 1,
      "message": "I don\u0027t think there is a reason to set it to false here.\n\nThe reason you need to explicitly enable it is the way the functionality was added to JGit. When adding it to JGit, the default functionality should not change, so now we are stuck with having to set that option explicitly.\n\nYou may also want to set the option for setRecordSubmoduleLabels, though git-core did not yet make progress on that (the series to implement that is stalling currently.)",
      "range": {
        "startLine": 347,
        "startChar": 4,
        "endLine": 348,
        "endChar": 34
      },
      "revId": "f1b077ae177ae39f5d081615cdacb763dd924154",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "6d05c749_b3b56283",
        "filename": "src/main/java/com/googlesource/gerrit/plugins/supermanifest/SuperManifestRefUpdatedListener.java",
        "patchSetId": 12
      },
      "lineNbr": 351,
      "author": {
        "id": 1017837
      },
      "writtenOn": "2016-12-07T20:18:39Z",
      "side": 1,
      "message": "If possible we want to have relative urls for submodules, as that allows copying the superproject and all submodules to $vendor.",
      "range": {
        "startLine": 351,
        "startChar": 4,
        "endLine": 351,
        "endChar": 32
      },
      "revId": "f1b077ae177ae39f5d081615cdacb763dd924154",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "8d04bb4e_94892ab7",
        "filename": "src/main/java/com/googlesource/gerrit/plugins/supermanifest/SuperManifestRefUpdatedListener.java",
        "patchSetId": 12
      },
      "lineNbr": 361,
      "author": {
        "id": 1017837
      },
      "writtenOn": "2016-12-07T20:18:39Z",
      "side": 1,
      "message": "This ought to go into its own review and if possible with the same topic?",
      "range": {
        "startLine": 361,
        "startChar": 4,
        "endLine": 361,
        "endChar": 34
      },
      "revId": "f1b077ae177ae39f5d081615cdacb763dd924154",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "6d05c749_93b2de96",
        "filename": "src/test/java/com/googlesource/gerrit/plugins/supermanifest/SuperManifestIT.java",
        "patchSetId": 12
      },
      "lineNbr": 66,
      "author": {
        "id": 1017837
      },
      "writtenOn": "2016-12-07T20:18:39Z",
      "side": 1,
      "message": "why this :destbranch?",
      "range": {
        "startLine": 66,
        "startChar": 58,
        "endLine": 66,
        "endChar": 72
      },
      "revId": "f1b077ae177ae39f5d081615cdacb763dd924154",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "6d05c749_737adadb",
        "filename": "src/test/java/com/googlesource/gerrit/plugins/supermanifest/SuperManifestIT.java",
        "patchSetId": 12
      },
      "lineNbr": 66,
      "author": {
        "id": 1017837
      },
      "writtenOn": "2016-12-07T22:47:24Z",
      "side": 1,
      "message": "Oh I see that would be the target/destination branch.\n\nThat way all of destination (repo/branch) are encoded in the key and all the sources (repo/Ref/Path) are encoded via the value.\n\nI wonder if we want to do it the other way round, as that is easier to parse  and react on, i.e. if there is a change to project:branch \"foo:bar\", we can just lookup if repoconversion.\"foo:bar\".superproject_destination exists and then trigger the update directed at that destination.\n\nThat said, I wonder if we want to have a RefSpec, similar to\nthe ACLs for the superproject subscription, see https://gerrit-review.googlesource.com/Documentation/user-submodules.html#_ensure_the_subscription_is_allowed\n\n  [allowManifestToSuperprojectConversion \"manifest-project\"]\n     wildcardRefs (or \"exactRefs\" or \"matchingRefs\") \u003d refs/heads/*:refs/heads/*\n      destinationSuperProject \u003d name\n      \n      Some configuration for the base URL in the superproject is needed, it can be derived from the manifest, set to the servers baseURL or be relative assuming all urls are at the same host.\n\n      Some configuration (boolean) whether to record branches/labels/shallow recommendation.",
      "parentUuid": "6d05c749_93b2de96",
      "range": {
        "startLine": 66,
        "startChar": 58,
        "endLine": 66,
        "endChar": 72
      },
      "revId": "f1b077ae177ae39f5d081615cdacb763dd924154",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    }
  ]
}